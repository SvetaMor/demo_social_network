{"version":3,"sources":["hoc/withAuthRedirect.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.module.css","assets/images/user3.png","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","module","exports","Post","console","log","message","className","prof","item","src","likesCount","MyPosts","memo","postsElements","posts","map","p","key","id","s","postsBlock","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","maxLength10","maxLengthCreator","reduxForm","form","handleSubmit","Field","component","Textarea","name","validate","required","placeholder","MyPostsContainer","profilePage","dispatch","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","isOwner","onBlur","updateStatus","onChange","e","currentTarget","autoFocus","ProfileDataFormReduxForm","profile","error","styles","formSummaryError","createField","Input","type","keys","contacts","contact","ProfileData","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","Preloader","descriptionBlock","photos","large","userPhoto","mainPhoto","target","files","savePhoto","initialValues","formData","saveProfile","then","Profile","ProfileContainer","userId","match","params","authUserId","history","profileThunkCreator","getStatus","refreshProfile","prevProps","prevState","snapshot","compose","withRouter"],"mappings":"kOAIIA,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,SAGVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,iLAGnC,OAAKC,KAAKC,MAAMN,OACT,kBAACG,EAAcE,KAAKC,OADI,kBAAC,IAAD,CAAUC,GAAI,eAHV,GACXC,IAAML,WAQtC,OADoCM,YAAQX,EAARW,CAAoCL,K,iCCb7D,SAASM,EAAeC,EAAKC,GAC1C,OCJa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDGxB,CAAeA,IEJT,SAA+BA,EAAKC,GACjD,GAAMG,OAAOC,YAAYC,OAAON,IAAgD,uBAAxCM,OAAOC,UAAUC,SAASC,KAAKT,GAAvE,CAIA,IAAIU,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKhB,EAAII,OAAOC,cAAmBM,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAETnB,GAAKS,EAAKW,SAAWpB,GAH8CU,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFvBuB,CAAqBV,EAAKC,IGJ3C,WACb,MAAM,IAAIsB,UAAU,wDHG0C,GAJhE,mC,oBICAC,EAAOC,QAAU,CAAC,iBAAmB,sCAAsC,UAAY,+BAA+B,QAAU,+B,oBCDhID,EAAOC,QAAU,IAA0B,mC,0CCC3CD,EAAOC,QAAU,CAAC,WAAa,4BAA4B,MAAQ,yB,oBCAnED,EAAOC,QAAU,CAAC,KAAO,qB,yJCeVC,EAbF,SAAC/B,GAEV,OADAgC,QAAQC,IAAIjC,EAAMkC,SAEd,yBAAKC,UAAWC,IAAKC,MACjB,yBAAKC,IAAI,oEACRtC,EAAMkC,QACP,6BACI,mDAAyBlC,EAAMuC,e,iCCFzCC,EAAUtC,IAAMuC,MAAM,SAAAzC,GAKpBgC,QAAQC,IAAI,aACZ,IAAIS,EAAgB1C,EAAM2C,MAAMC,KAAI,SAAAC,GAAC,OACjC,kBAAC,EAAD,CAAMC,IAAKD,EAAEE,GAAIb,QAASW,EAAEX,QAASK,WAAYM,EAAEN,gBAKvD,OACI,yBAAKJ,UAAWa,IAAEC,YACd,wCACA,kBAACC,EAAD,CAAqBC,SAPb,SAACC,GAEbpD,EAAMqD,QAAQD,EAAOE,gBAMjB,yBAAKnB,UAAWa,IAAEL,OACbD,OAOfa,EAAcC,YAAiB,IAe/BN,EAAsBO,YAAU,CAACC,KAAM,0BAAjBD,EAbL,SAACzD,GACpB,OACI,0BAAMmD,SAAUnD,EAAM2D,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUC,KAAM,cAAeC,SAAU,CAACC,IAAUV,GAAcW,YAAY,kBAEpG,6BACI,iDAQD1B,I,QC3BA2B,EAFUhE,aAfF,SAACV,GACpB,MAAO,CACHkD,MAAOlD,EAAM2E,YAAYzB,MACzBW,YAAa7D,EAAM2E,YAAYd,gBAId,SAACe,GACtB,MAAO,CACHhB,QAAS,SAACC,GACNe,EAASC,YAAqBhB,QAKjBnD,CAA6CqC,G,2BCsBvD+B,EAvCgB,SAACvE,GAAW,IAAD,EAERwE,oBAAS,GAFD,mBAEjCC,EAFiC,KAEvBC,EAFuB,OAGZF,mBAASxE,EAAM2E,QAHH,mBAGjCA,EAHiC,KAGzBC,EAHyB,KAKtCC,qBAAY,WACRD,EAAU5E,EAAM2E,UAClB,CAAC3E,EAAM2E,SAeT,OACI,8BACOF,GACC,6BACI,uCAAe,0BAAMK,cAjBZ,WACjB9E,EAAM+E,SAASL,GAAY,KAgBoC1E,EAAM2E,QAAU,UAG9EF,GACG,6BACI,2BAAOO,OAlBI,WACvBN,GAAY,GACZ1E,EAAMiF,aAAaN,IAgB4BO,SAb5B,SAACC,GACpBP,EAAUO,EAAEC,cAAc3D,QAaNA,MAAOkD,EAAQU,WAAW,O,2CCGvCC,EAFkB7B,YAAU,CAACC,KAAM,eAAjBD,EA9BT,SAAC,GAAoC,IAAnCE,EAAkC,EAAlCA,aAAc4B,EAAoB,EAApBA,QAASC,EAAW,EAAXA,MAC7C,OAAO,0BAAMrC,SAAUQ,GACnB,6BACI,yCAEH6B,GAAS,yBAAKrD,UAAWsD,IAAOC,kBAC5BF,GAEL,6BACI,0CADJ,IACwBG,YAAY,YAAa,WAAY,GAAIC,MAEjE,6BACI,kDADJ,IACgCD,YAAY,GAAI,iBAAkB,GAAIC,IAAO,CAACC,KAAM,cAEpF,6BACI,uDADJ,IACqCF,YAAY,GAAI,4BAA6B,GAAI7B,MAEtF,6BACI,yCADJ,IACuB6B,YAAY,GAAI,UAAW,GAAI7B,MAEtD,6BACI,wCADJ,IACsBnD,OAAOmF,KAAKP,EAAQQ,UAAUnD,KAAI,SAAAE,GAChD,OAAO,yBAAKA,IAAKA,EAAKX,UAAWa,IAAEgD,SAC/B,2BAAIlD,EAAJ,MADG,IACa6C,YAAY7C,EAAK,YAAYA,EAAK,GAAI8C,cCkBpEK,EAAc,SAAC,GAAsC,IAArCV,EAAoC,EAApCA,QAASR,EAA2B,EAA3BA,QAASmB,EAAkB,EAAlBA,aACpC,OAAO,6BACFnB,GAAW,6BAAK,4BAAQoB,QAASD,GAAjB,SACjB,6BACI,0CADJ,IACwBX,EAAQa,UAEhC,6BACI,kDADJ,IACgCb,EAAQc,eAAiB,MAAQ,MAEhEd,EAAQc,gBACL,6BACI,uDADJ,IACqCd,EAAQe,2BAGjD,6BACI,yCADJ,IACuBf,EAAQgB,SAE/B,6BACI,wCADJ,IACsB5F,OAAOmF,KAAKP,EAAQQ,UAAUnD,KAAI,SAAAE,GAChD,OAAO,kBAAC,EAAD,CAASA,IAAKA,EAAK0D,aAAc1D,EAAK2D,aAAclB,EAAQQ,SAASjD,WAMtF4D,EAAU,SAAC,GAAkC,IAAjCF,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,aAC5B,OAAO,yBAAKtE,UAAWa,IAAEgD,SACrB,2BAAIQ,GADD,KACqBC,IAIjBE,EAvEK,SAAC3G,GAAW,IAAD,EAEGwE,oBAAS,GAFZ,mBAEtBC,EAFsB,KAEZC,EAFY,KAI3B,IAAK1E,EAAMuF,QACP,OAAO,kBAACqB,EAAA,EAAD,MAeX,OACI,6BACI,6BACI,yBAAKtE,IAAI,2KAEb,kBAAC,EAAD,CAAwBqC,OAAQ3E,EAAM2E,OAAQI,QAAS/E,EAAM+E,QACrCE,aAAcjF,EAAMiF,eAC5C,yBAAK9C,UAAWa,IAAE6D,kBACd,yBAAKvE,IAAKtC,EAAMuF,QAAQuB,OAAOC,OAASC,IAAW7E,UAAWa,IAAEiE,YAC/DjH,EAAM+E,SAAW,2BAAOc,KAAM,OAAQX,SArBvB,SAACC,GACrBA,EAAE+B,OAAOC,MAAMzF,QACf1B,EAAMoH,UAAUjC,EAAE+B,OAAOC,MAAM,OAqB1B1C,EAAW,kBAAC,EAAD,CAAiB4C,cAAerH,EAAMuF,QACtBpC,SAnBvB,SAACmE,GACdtH,EAAMuH,YAAYD,GAAUE,MAAK,WAC7B9C,GAAY,OAiBwCa,QAASvF,EAAMuF,UACnD,kBAAC,EAAD,CAAaW,aAAc,WAAKxB,GAAY,IAChCK,QAAS/E,EAAM+E,QAASQ,QAASvF,EAAMuF,aCtBhEkC,EAbC,SAAC,GAAsE,IAArElC,EAAoE,EAApEA,QAASZ,EAA2D,EAA3DA,OAAQM,EAAmD,EAAnDA,aAAcF,EAAqC,EAArCA,QAASqC,EAA4B,EAA5BA,UAAWG,EAAiB,EAAjBA,YAIjE,OACI,6BACI,kBAAC,EAAD,CAAaH,UAAWA,EAAWrC,QAASA,EAASQ,QAASA,EAASZ,OAAQA,EACnEM,aAAcA,EAAcsC,YAAaA,IACrD,kBAAC,EAAD,Q,wBCLNG,E,yLAGE,IAAIC,EAAS5H,KAAKC,MAAM4H,MAAMC,OAAOF,OAChCA,IACDA,EAAS5H,KAAKC,MAAM8H,aAEhB/H,KAAKC,MAAM+H,QAAQvG,KAAK,UAGhCzB,KAAKC,MAAMgI,oBAAoBL,GAC/B5H,KAAKC,MAAMiI,UAAUN,K,0CAIrB5H,KAAKmI,mB,yCAGUC,EAAWC,EAAWC,GACjCtI,KAAKC,MAAM4H,MAAMC,OAAOF,QAAUQ,EAAUP,MAAMC,OAAOF,QACzD5H,KAAKmI,mB,+BAMT,OACI,kBAAC,EAAD,iBAAanI,KAAKC,MAAlB,CACQ+E,SAAUhF,KAAKC,MAAM4H,MAAMC,OAAOF,OAClCpC,QAASxF,KAAKC,MAAMuF,QACpBZ,OAAQ5E,KAAKC,MAAM2E,OACnBM,aAAclF,KAAKC,MAAMiF,aACzBmC,UAAWrH,KAAKC,MAAMoH,UACtBG,YAAaxH,KAAKC,MAAMuH,mB,GAjCbrH,IAAML,WA6CtByI,sBACXnI,aARkB,SAACV,GAAD,MAAY,CAC9B8F,QAAS9F,EAAM2E,YAAYmB,QAC3BZ,OAAQlF,EAAM2E,YAAYO,OAC1BmD,WAAYrI,EAAME,KAAKgI,OACvBjI,OAAQD,EAAME,KAAKD,UAIM,CAACsI,wBAAqBC,cAAWhD,iBAAcmC,cAAWG,kBACnFgB,IAFWD,CAIbZ","file":"static/js/3.4a14d376.chunk.js","sourcesContent":["import React from 'react';\nimport {Redirect} from 'react-router-dom';\nimport {connect} from 'react-redux';\n\nlet mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth\n});\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n        render(){\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\n            return <Component {...this.props} />\n        }\n    }\n\n    let ConnecctAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n    return ConnecctAuthRedirectComponent;\n}\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\",\"mainPhoto\":\"ProfileInfo_mainPhoto__1Fgjo\",\"contact\":\"ProfileInfo_contact__1N3gp\"};","module.exports = __webpack_public_path__ + \"static/media/user3.50562dc9.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","import React from 'react';\nimport prof from './Post.module.css';\n\nconst Post = (props) => {\n    console.log(props.message);\n    return(\n        <div className={prof.item}>\n            <img src='https://peopletalk.ru/wp-content/uploads/2016/11/1480331127.jpg'/>\n            {props.message}\n            <div>\n                <span>count of likes is {props.likesCount}</span>\n            </div>\n        </div>\n    );\n}\n\nexport default Post;\n","import React from 'react';\nimport s from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport {Field, reduxForm} from 'redux-form';\nimport {required, maxLengthCreator} from '../../../utils/validators/validators';\nimport {Textarea} from '../../common/FormsControls/FormsControls';\n\n\nconst MyPosts = React.memo( props => {\n    // shouldComponentUpdate(nextProps, nextState){\n    //     return nextProps != this.props || nextState != this.state;\n    // }\n    //render(){\n        console.log('render yo');\n        let postsElements = props.posts.map(p =>\n            <Post key={p.id} message={p.message} likesCount={p.likesCount} />);\n        let onAddPost = (values) =>{\n            //alert(values.newPostText);\n            props.addPost(values.newPostText);\n        };\n        return(\n            <div className={s.postsBlock}>\n                <h3>My posts</h3>\n                <AddNewPostFormRedux onSubmit={onAddPost} />\n                <div className={s.posts}>\n                    {postsElements}\n                </div>\n            </div>\n        );\n    //}\n});\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst AddNewPostForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field component={Textarea} name={'newPostText'} validate={[required, maxLength10]} placeholder='Post message' />\n            </div>\n            <div>\n                <button>Add post</button>\n            </div>\n        </form>\n    )\n}\n\nconst AddNewPostFormRedux = reduxForm({form: 'profileAddNewPostsForm'})(AddNewPostForm)\n\nexport default MyPosts;\n","import React from 'react';\nimport {addPostActionCreator} from '../../../redux/profile-reducer.js';\nimport MyPosts from './MyPosts.jsx';\nimport {connect} from 'react-redux';\n\nlet  mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts,\n        newPostText: state.profilePage.newPostText\n    }\n};\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (newPostText)=> {\n            dispatch(addPostActionCreator(newPostText))\n        }\n    }\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import React, {useState,useEffect} from 'react';\nimport s from './ProfileInfo.module.css';\n\nconst ProfileStatusWithHooks = (props) => {\n\n    let [editMode, setEditMode] = useState(false);\n    let [status, setStatus] = useState(props.status);\n\n    useEffect ( () => {\n        setStatus(props.status);\n    },[props.status]);\n\n    const activateEditMode = () => {\n        if (props.isOwner) setEditMode(true);\n    }\n\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    }\n\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    }\n\n    return (\n        <div>\n            { !editMode &&\n                <div>\n                    <b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || \"-----\"}</span>\n                </div>\n            }\n            {editMode &&\n                <div>\n                    <input onBlur={deactivateEditMode} onChange={onStatusChange}\n                            value={status} autoFocus={true} />\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default ProfileStatusWithHooks;\n","import React from 'react';\nimport {createField, Input, Textarea} from '../../common/FormsControls/FormsControls';\nimport {Field, reduxForm} from 'redux-form';\nimport s from './ProfileInfo.module.css';\nimport styles from '../../common/FormsControls/FormsControls.module.css';\n\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\n    return <form onSubmit={handleSubmit}>\n        <div>\n            <button>Save</button>\n        </div>\n        {error && <div className={styles.formSummaryError}>\n            {error}\n        </div>}\n        <div>\n            <b>Full name: </b> {createField(\"Full name\", \"fullName\", [], Input)}\n        </div>\n        <div>\n            <b>Lookong for a job: </b> {createField(\"\", \"lookingForAJob\", [], Input, {type: \"checkbox\"})}\n        </div>\n        <div>\n            <b>My professional skills: </b> {createField(\"\", \"lookingForAJobDescription\", [], Textarea)}\n        </div>\n        <div>\n            <b>About me: </b> {createField(\"\", \"aboutMe\", [], Textarea)}\n        </div>\n        <div>\n            <b>Contacts:</b> {Object.keys(profile.contacts).map(key=>{\n                return <div key={key} className={s.contact}>\n                    <b>{key}: </b> {createField(key, \"contacts.\"+key, [], Input)}\n                </div>\n            })}\n        </div>\n    </form>\n}\n\nconst ProfileDataFormReduxForm = reduxForm({form: 'editProfile'})(ProfileDataForm)\n\nexport default ProfileDataFormReduxForm;\n","import React, {useState,useEffect} from 'react';\nimport s from './ProfileInfo.module.css';\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\nimport userPhoto from '../../../assets/images/user3.png';\nimport Preloader from '../../common/preloader/Preloader';\nimport ProfileDataForm from './ProfileDataForm';\n\nconst ProfileInfo = (props) => {\n\n    let [editMode, setEditMode] = useState(false);\n\n    if (!props.profile) {\n        return <Preloader />\n    }\n\n    const onMainPhotoSelected = (e) => {\n        if (e.target.files.length) {\n            props.savePhoto(e.target.files[0]);\n        }\n    }\n    const onSubmit = (formData) => {\n        props.saveProfile(formData).then(() => {\n            setEditMode(false);\n        });\n        //\n    }\n\n    return (\n        <div>\n            <div>\n                <img src='https://thumbor.forbes.com/thumbor/960x0/https%3A%2F%2Fblogs-images.forbes.com%2Fjohnwelsheurope%2Ffiles%2F2019%2F05%2FScreenshot-2019-05-05-at-19.30.12-1200x709.jpg'/>\n            </div>\n            <ProfileStatusWithHooks status={props.status} isOwner={props.isOwner}\n                                    updateStatus={props.updateStatus}/>\n            <div className={s.descriptionBlock}>\n                <img src={props.profile.photos.large || userPhoto} className={s.mainPhoto}/>\n                {props.isOwner && <input type={\"file\"} onChange={onMainPhotoSelected} />}\n\n                {editMode ? <ProfileDataForm initialValues={props.profile}\n                                            onSubmit={onSubmit} profile={props.profile}/>\n                          : <ProfileData goToEditMode={()=>{setEditMode(true)}}\n                                        isOwner={props.isOwner} profile={props.profile}/>}\n            </div>\n        </div>\n    );\n}\n\nconst ProfileData = ({profile, isOwner, goToEditMode}) => {\n    return <div>\n        {isOwner && <div><button onClick={goToEditMode}>Edit</button></div>}\n        <div>\n            <b>Full name: </b> {profile.fullName}\n        </div>\n        <div>\n            <b>Lookong for a job: </b> {profile.lookingForAJob ? \"yes\" : \"no\"}\n        </div>\n        {profile.lookingForAJob &&\n            <div>\n                <b>My professional skills: </b> {profile.lookingForAJobDescription}\n            </div>\n        }\n        <div>\n            <b>About me: </b> {profile.aboutMe}\n        </div>\n        <div>\n            <b>Contacts:</b> {Object.keys(profile.contacts).map(key=>{\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]} />\n            })}\n        </div>\n    </div>\n}\n\nconst Contact = ({contactTitle, contactValue}) => {\n    return <div className={s.contact}>\n        <b>{contactTitle}</b>: {contactValue}\n    </div>\n}\n\nexport default ProfileInfo;\n","import React from 'react';\nimport s from './Profile.module.css';\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nimport Preloader from '../common/preloader/Preloader';\n\nconst Profile = ({profile, status, updateStatus, isOwner, savePhoto, saveProfile}) => {\n    // if (!profile){\n    //     return <Preloader />\n    // }\n    return (\n        <div>\n            <ProfileInfo savePhoto={savePhoto} isOwner={isOwner} profile={profile} status={status}\n                        updateStatus={updateStatus} saveProfile={saveProfile}/>\n            <MyPostsContainer />\n        </div>\n    );\n}\n\nexport default Profile;\n","import React from 'react';\nimport s from './Profile.module.css';\nimport Profile from './Profile';\nimport {connect} from 'react-redux';\nimport {profileThunkCreator, getStatus, updateStatus, savePhoto, saveProfile} from '../../redux/profile-reducer';\nimport {withRouter} from 'react-router-dom';\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\nimport {compose} from 'redux';\n\nclass ProfileContainer extends React.Component{\n\n    refreshProfile(){\n        let userId = this.props.match.params.userId;\n        if (!userId) {\n            userId = this.props.authUserId; //4910;\n            if (!userId) {\n                this.props.history.push(\"/login\"); //плохой вариант редиректа\n            }\n        };\n        this.props.profileThunkCreator(userId);\n        this.props.getStatus(userId);\n    }\n\n    componentDidMount(){\n        this.refreshProfile();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot){\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\n            this.refreshProfile();\n        }\n    }\n\n    render (){\n        //if (!this.props.isAuth) return <Redirect to={'/login'}/>\n        return (\n            <Profile {...this.props}\n                    isOwner={!this.props.match.params.userId}\n                    profile={this.props.profile}\n                    status={this.props.status}\n                    updateStatus={this.props.updateStatus}\n                    savePhoto={this.props.savePhoto}\n                    saveProfile={this.props.saveProfile}/>\n        );\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n});\n\nexport default compose(\n    connect(mapStateToProps, {profileThunkCreator, getStatus, updateStatus, savePhoto, saveProfile}),\n    withRouter\n    //withAuthRedirect\n)(ProfileContainer);\n"],"sourceRoot":""}