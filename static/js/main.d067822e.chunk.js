(this["webpackJsonpreact-kabzda"]=this["webpackJsonpreact-kabzda"]||[]).push([[0],{103:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(39),a=n(19);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={dialogs:[{id:1,name:"Dimych",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQpeANnVzE_pT-gB4qbM8MNnol_ezD1a0vS_tOLXVULNxKULGzx5g"},{id:2,name:"Andrey",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT4dLBe7Sc_1IIJtWboXOqbO_h20al6fxAtbiw4Au1ZQ4GTD7t_xg"},{id:3,name:"Valera",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTlEeD9umlTl6KHEfysX_hCAhuLAKL-WOBpJQqCXAGmhetMEcLqNA"},{id:4,name:"Sveta",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTcpANj_2I8ZL9V1eXglRisRbrlA0Mz-PZzVRpPsW0y3TjUbYJE"},{id:5,name:"Sasha",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSJpmfj5hm9-WL1GZ8hbV9PD7Q98W6nXc8p1rt34_pTlgpA90L3"},{id:6,name:"Viktor",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSyO4iUhvQmVWlkxc-IBTryx4qv4lQKxv_fq1eiQ_NaEolP30mPAg"}],messages:[{id:1,message:"Hi"},{id:2,message:"How is your react?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}]},u=function(e){return{type:"SEND-MESSAGE",newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=t.newMessageBody;return o({},e,{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}}},128:function(e,t,n){"use strict";var r=n(6),a=n.n(r),c=n(12),o=n(39),i=n(19),u=n(9);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=function(e,t,n,r){return e.map((function(e){return e[n]===t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},r):e}))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"f",(function(){return w}));var d={users:[],pageSize:5,portionSize:15,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},m=function(e){return{type:"FOLLOW",userId:e}},b=function(e){return{type:"UNFOLLOW",userId:e}},g=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},h=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},O=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},v=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(h(!0)),n.next=3,u.d.getUsers(e,t);case 3:c=n.sent,r(g(e)),r(h(!1)),r({type:"SET_USERS",users:c.items}),r({type:"SET_TOTAL_USERS_COUNT",count:c.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(O(!0,n)),e.next=3,r(n);case 3:0==e.sent.data.resultCode&&t(c(n)),t(O(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=u.d.follow.bind(u.d),E(n,e,r,m);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E(n,e,u.d.unfollow.bind(u.d),b);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return p({},e,{users:l(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return p({},e,{users:l(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return p({},e,{users:t.users});case"SET_CURRENT_PAGE":return p({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return p({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return p({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return p({},e,{followingInProgress:t.isFetching?[].concat(Object(o.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}}},133:function(e,t,n){e.exports=n.p+"static/media/loader.e811f41d.gif"},15:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",active:"Navbar_active__3mbhk"}},159:function(e,t,n){e.exports=n(289)},24:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(85),a=n(0),c=n.n(a),o=n(43),i=n.n(o),u=n(86),s=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,a=e.children,o=n&&r;return c.a.createElement("div",{className:i.a.formControl+" "+(o?i.a.error:"")},c.a.createElement("div",null,a),o&&c.a.createElement("span",null,r))},l=function(e){var t=e.input,n=(e.meta,e.child,Object(r.a)(e,["input","meta","child"]));return c.a.createElement(s,e,c.a.createElement("textarea",Object.assign({},t,n)))},f=function(e){var t=e.input,n=(e.meta,e.child,Object(r.a)(e,["input","meta","child"]));return c.a.createElement(s,e,c.a.createElement("input",Object.assign({},t,n)))},p=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return c.a.createElement("div",null,c.a.createElement(u.a,Object.assign({placeholder:e,name:t,validate:n,component:r},a))," ",o)}},242:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(93),c=n(103),o={friends:[{id:1,name:"Anna"},{id:2,name:"Pavel"},{id:3,name:"Nikita"}]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;arguments.length>1&&arguments[1];return e},u=n(19),s=n(9),l=n(6),f=n.n(l),p=n(12),d=n(27);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g="samurai-network/auth/SET_USER_DATA",h={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},O=function(e,t,n,r){return{type:g,payload:{userId:e,email:t,login:n,isAuth:r}}},v=function(){return function(){var e=Object(p.a)(f.a.mark((function e(t){var n,r,a,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.login,o=r.email,t(O(a,o,c,!0)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(e){return{type:"samurai-network/auth/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},y=function(){return function(){var e=Object(p.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.c.getCaptchaUrl();case 2:n=e.sent,r=n.data.url,t(E(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case"samurai-network/auth/GET_CAPTCHA_URL_SUCCESS":return b({},e,{},t.payload);default:return e}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={initialized:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return P({},e,{initialized:!0});default:return e}},T=n(128),C=n(129),A=n(127),N=Object(r.c)({profilePage:a.b,dialogsPage:c.a,sideBar:i,usersPage:T.a,auth:w,form:A.a,app:_}),k=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d,I=Object(r.e)(N,k(Object(r.a)(C.a))),x=n(0),D=n.n(x),L=n(61),U=n.n(L),G=(n(242),n(48)),F=n(49),R=n(51),z=n(50),M=n(52),B=n(15),q=n.n(B),V=n(21),W=function(){return D.a.createElement("nav",{className:q.a.nav},D.a.createElement("div",{className:q.a.item},D.a.createElement(V.b,{to:"/profile",activeClassName:q.a.active},"Profile")),D.a.createElement("div",{className:q.a.item},D.a.createElement(V.b,{to:"/dialogs",activeClassName:q.a.active},"Messages")),D.a.createElement("div",{className:q.a.item},D.a.createElement(V.b,{to:"/users",activeClassName:q.a.active},"Users")),D.a.createElement("div",{className:q.a.item},D.a.createElement(V.b,{to:"/news",activeClassName:q.a.active},"News")),D.a.createElement("div",{className:q.a.item},D.a.createElement(V.b,{to:"/music",activeClassName:q.a.active},"Music")),D.a.createElement("div",{className:q.a.item},D.a.createElement(V.b,{to:"/settings",activeClassName:q.a.active},"Settings")))},H=(n(247),function(){return D.a.createElement("div",null,"All news")}),X=n(25),J=(n(248),function(e){return D.a.createElement("div",null,"My music")}),Q=(n(249),function(e){return D.a.createElement("div",null,"Settings")}),K=n(84),Z=n.n(K),Y=function(e){return D.a.createElement("div",{className:Z.a.side},D.a.createElement("h4",null,"Friends"),D.a.createElement("div",null,e.friends))},$=n(17),ee=(Object($.b)((function(e){return{friends:e.sideBar.friends}}))(Y),n(89)),te=n.n(ee),ne=function(e){return D.a.createElement("header",{className:te.a.header},D.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/ad/Figma-1-logo.png"}),D.a.createElement("div",{className:te.a.loginBlock},e.isAuth?D.a.createElement("div",null,e.login," - ",D.a.createElement("button",{onClick:e.logout},"Log out")):D.a.createElement(V.b,{to:"/login"},"Login")))},re=function(e){function t(){return Object(G.a)(this,t),Object(R.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return D.a.createElement(ne,this.props)}}]),t}(D.a.Component),ae=Object($.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.logout();case 2:0===e.sent.data.resultCode&&t(O(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(re),ce=n(126),oe=n(24),ie=n(43),ue=n.n(ie),se=n(62),le=Object(ce.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return D.a.createElement("form",{onSubmit:t},Object(oe.c)("Email","email",[se.b],oe.a),Object(oe.c)("Password","password",[se.b],oe.a,{type:"password"}),Object(oe.c)(null,"rememberMe",[],oe.a,{type:"checkbox"},"remember me"),r&&D.a.createElement("img",{src:r}),r&&Object(oe.c)("Symbols from image","captcha",[se.b],oe.a),n&&D.a.createElement("div",{className:ue.a.formSummaryError},n),D.a.createElement("div",null,D.a.createElement("button",null,"Login")))})),fe=Object($.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,r){return function(){var a=Object(p.a)(f.a.mark((function a(c){var o,i;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.login(e,t,n,r);case 2:0===(o=a.sent).data.resultCode?c(v()):(10===o.data.resultCode&&c(y()),i=o.data.messages.length>0?o.data.messages[0]:"Some error",c(Object(d.a)("login",{_error:i})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?D.a.createElement(X.a,{to:"/profile"}):D.a.createElement("div",null,D.a.createElement("h1",null,"Login"),D.a.createElement(le,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))})),pe=(n(288),n(92)),de=function(e){return function(t){return D.a.createElement(D.a.Suspense,{fallback:D.a.createElement("div",null,"Loading...")},D.a.createElement(e,t))}},me=D.a.lazy((function(){return n.e(5).then(n.bind(null,303))})),be=D.a.lazy((function(){return n.e(3).then(n.bind(null,301))})),ge=D.a.lazy((function(){return n.e(4).then(n.bind(null,302))})),he=function(e){function t(){return Object(G.a)(this,t),Object(R.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?D.a.createElement("div",{className:"app-wrapper"},D.a.createElement(ae,null),D.a.createElement(W,null),D.a.createElement("div",{className:"app-wrapper-content"},D.a.createElement(X.b,{path:"/dialogs",render:de(me)}),D.a.createElement(X.b,{path:"/profile/:userId?",render:de(be)}),D.a.createElement(X.b,{path:"/users",render:de(ge)}),D.a.createElement(X.b,{path:"/news",render:function(){return D.a.createElement(H,null)}}),D.a.createElement(X.b,{path:"/music",render:function(){return D.a.createElement(J,null)}}),D.a.createElement(X.b,{path:"/settings",render:function(){return D.a.createElement(Q,null)}}),D.a.createElement(X.b,{path:"/login",render:function(){return D.a.createElement(fe,null)}}))):D.a.createElement(pe.a,null)}}]),t}(D.a.Component),Oe=Object(r.d)(X.f,Object($.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(v());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(he),ve=function(e){return D.a.createElement(V.a,null,D.a.createElement($.a,{store:I},D.a.createElement(Oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));U.a.render(D.a.createElement(ve,null),document.getElementById("root"))},43:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue",formSummaryError:"FormsControls_formSummaryError__1F2-S"}},62:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},84:function(e,t,n){e.exports={side:"SideBar_side__3TnJP"}},89:function(e,t,n){e.exports={header:"Header_header__1VCKf",loginBlock:"Header_loginBlock__6mma5"}},9:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(94),a=r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"59a7deb7-40fb-42a4-8c0b-90c264fc43d8"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return a.delete("follow/".concat(e))},follow:function(e){return a.post("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI object."),o.getProfile(e)}},o={getProfile:function(e){return a.get("profile/".concat(e))},getStatus:function(e){return a.get("profile/status/".concat(e))},updateStatus:function(e){return a.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return a.put("profile",e)}},i={me:function(){return a.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return a.delete("auth/login")}},u={getCaptchaUrl:function(){return a.get("security/get-captcha-url")}}},92:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(133),o=n.n(c);t.a=function(e){return a.a.createElement("div",null,a.a.createElement("img",{src:o.a}))}},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return v}));var r=n(6),a=n.n(r),c=n(12),o=n(39),i=n(19),u=n(9),s=n(27);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={posts:[{id:1,message:"Hi, how are you?",likesCount:"12"},{id:2,message:"It's my first post",likesCount:"50"}],profile:null,status:""},d=function(e){return{type:"ADD-POST",newPostText:e}},m=function(e){return{type:"SET_STATUS",status:e}},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.d.getProfile(e);case 2:r=t.sent,n({type:"SET_USER_PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getStatus(e);case 2:r=t.sent,n(m(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(m(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n({type:"SAVE_PHOTO",photos:r.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.userId,t.next=3,u.b.saveProfile(e);case 3:if(0!==(o=t.sent).data.resultCode){t.next=8;break}n(b(c)),t.next=11;break;case 8:return i=o.data.messages.length>0?o.data.messages[0]:"Some error",n(Object(s.a)("editProfile",{_error:i})),t.abrupt("return",Promise.reject(i));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:3,message:t.newPostText,likesCount:0};return f({},e,{posts:[].concat(Object(o.a)(e.posts),[n])});case"SET_USER_PROFILE":return f({},e,{profile:t.profile});case"SET_STATUS":return f({},e,{status:t.status});case"DELETE_POST":return f({},e,{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case"SAVE_PHOTO":return f({},e,{profile:f({},e.profile,{photos:t.photos})});case"SAVE_PROFILE":return f({},e,{profile:f({},e.profile)});default:return e}}}},[[159,1,2]]]);
//# sourceMappingURL=main.d067822e.chunk.js.map