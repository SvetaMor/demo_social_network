(this["webpackJsonpreact-kabzda"]=this["webpackJsonpreact-kabzda"]||[]).push([[3],{290:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(48),r=n(49),o=n(51),l=n(50),s=n(52),c=n(0),i=n.n(c),u=n(25),m=n(17),p=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(o.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(s.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(u.a,{to:"/login"})}}]),n}(i.a.Component);return Object(m.b)(p)(t)}},291:function(e,t,n){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],a=!0,r=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(c){r=!0,o=c}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return a}))},293:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",mainPhoto:"ProfileInfo_mainPhoto__1Fgjo",contact:"ProfileInfo_contact__1N3gp"}},294:function(e,t,n){e.exports=n.p+"static/media/user3.50562dc9.png"},295:function(e,t,n){},296:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},297:function(e,t,n){e.exports={item:"Post_item__ihtu9"}},301:function(e,t,n){"use strict";n.r(t);var a=n(48),r=n(49),o=n(51),l=n(50),s=n(52),c=n(0),i=n.n(c),u=(n(295),n(93)),m=n(296),p=n.n(m),f=n(297),b=n.n(f),d=function(e){return console.log(e.message),i.a.createElement("div",{className:b.a.item},i.a.createElement("img",{src:"https://peopletalk.ru/wp-content/uploads/2016/11/1480331127.jpg"}),e.message,i.a.createElement("div",null,i.a.createElement("span",null,"count of likes is ",e.likesCount)))},h=n(86),E=n(126),v=n(62),g=n(24),O=i.a.memo((function(e){console.log("render yo");var t=e.posts.map((function(e){return i.a.createElement(d,{key:e.id,message:e.message,likesCount:e.likesCount})}));return i.a.createElement("div",{className:p.a.postsBlock},i.a.createElement("h3",null,"My posts"),i.a.createElement(k,{onSubmit:function(t){e.addPost(t.newPostText)}}),i.a.createElement("div",{className:p.a.posts},t))})),j=Object(v.a)(10),k=Object(E.a)({form:"profileAddNewPostsForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement(h.a,{component:g.b,name:"newPostText",validate:[v.b,j],placeholder:"Post message"})),i.a.createElement("div",null,i.a.createElement("button",null,"Add post")))})),P=O,y=n(17),S=Object(y.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(u.a)(t))}}}))(P),w=n(291),A=n(293),F=n.n(A),_=function(e){var t=Object(c.useState)(!1),n=Object(w.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(e.status),l=Object(w.a)(o,2),s=l[0],u=l[1];Object(c.useEffect)((function(){u(e.status)}),[e.status]);return i.a.createElement("div",null,!a&&i.a.createElement("div",null,i.a.createElement("b",null,"Status: "),i.a.createElement("span",{onDoubleClick:function(){e.isOwner&&r(!0)}},e.status||"-----")),a&&i.a.createElement("div",null,i.a.createElement("input",{onBlur:function(){r(!1),e.updateStatus(s)},onChange:function(e){u(e.currentTarget.value)},value:s,autoFocus:!0})))},C=n(294),x=n.n(C),N=n(92),T=n(43),I=n.n(T),M=Object(E.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,n=e.profile,a=e.error;return i.a.createElement("form",{onSubmit:t},i.a.createElement("div",null,i.a.createElement("button",null,"Save")),a&&i.a.createElement("div",{className:I.a.formSummaryError},a),i.a.createElement("div",null,i.a.createElement("b",null,"Full name: ")," ",Object(g.c)("Full name","fullName",[],g.a)),i.a.createElement("div",null,i.a.createElement("b",null,"Lookong for a job: ")," ",Object(g.c)("","lookingForAJob",[],g.a,{type:"checkbox"})),i.a.createElement("div",null,i.a.createElement("b",null,"My professional skills: ")," ",Object(g.c)("","lookingForAJobDescription",[],g.b)),i.a.createElement("div",null,i.a.createElement("b",null,"About me: ")," ",Object(g.c)("","aboutMe",[],g.b)),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts:")," ",Object.keys(n.contacts).map((function(e){return i.a.createElement("div",{key:e,className:F.a.contact},i.a.createElement("b",null,e,": ")," ",Object(g.c)(e,"contacts."+e,[],g.a))}))))})),B=function(e){var t=e.profile,n=e.isOwner,a=e.goToEditMode;return i.a.createElement("div",null,n&&i.a.createElement("div",null,i.a.createElement("button",{onClick:a},"Edit")),i.a.createElement("div",null,i.a.createElement("b",null,"Full name: ")," ",t.fullName),i.a.createElement("div",null,i.a.createElement("b",null,"Lookong for a job: ")," ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&i.a.createElement("div",null,i.a.createElement("b",null,"My professional skills: ")," ",t.lookingForAJobDescription),i.a.createElement("div",null,i.a.createElement("b",null,"About me: ")," ",t.aboutMe),i.a.createElement("div",null,i.a.createElement("b",null,"Contacts:")," ",Object.keys(t.contacts).map((function(e){return i.a.createElement(J,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))},J=function(e){var t=e.contactTitle,n=e.contactValue;return i.a.createElement("div",{className:F.a.contact},i.a.createElement("b",null,t),": ",n)},D=function(e){var t=Object(c.useState)(!1),n=Object(w.a)(t,2),a=n[0],r=n[1];if(!e.profile)return i.a.createElement(N.a,null);return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("img",{src:"https://thumbor.forbes.com/thumbor/960x0/https%3A%2F%2Fblogs-images.forbes.com%2Fjohnwelsheurope%2Ffiles%2F2019%2F05%2FScreenshot-2019-05-05-at-19.30.12-1200x709.jpg"})),i.a.createElement(_,{status:e.status,isOwner:e.isOwner,updateStatus:e.updateStatus}),i.a.createElement("div",{className:F.a.descriptionBlock},i.a.createElement("img",{src:e.profile.photos.large||x.a,className:F.a.mainPhoto}),e.isOwner&&i.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),a?i.a.createElement(M,{initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){r(!1)}))},profile:e.profile}):i.a.createElement(B,{goToEditMode:function(){r(!0)},isOwner:e.isOwner,profile:e.profile})))},U=function(e){var t=e.profile,n=e.status,a=e.updateStatus,r=e.isOwner,o=e.savePhoto,l=e.saveProfile;return i.a.createElement("div",null,i.a.createElement(D,{savePhoto:o,isOwner:r,profile:t,status:n,updateStatus:a,saveProfile:l}),i.a.createElement(S,null))},V=n(25),z=(n(290),n(8)),L=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.profileThunkCreator(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement(U,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),t}(i.a.Component);t.default=Object(z.d)(Object(y.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{profileThunkCreator:u.d,getStatus:u.c,updateStatus:u.g,savePhoto:u.e,saveProfile:u.f}),V.f)(L)}}]);
//# sourceMappingURL=3.4a14d376.chunk.js.map